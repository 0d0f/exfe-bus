package notifier

import (
	"github.com/stretchrcom/testify/assert"
	"model"
	"testing"
)

func TestCrossDigestV3Email(t *testing.T) {
	cross1 := cross
	cross1.Exfee = exfee1

	cross1.Exfee.Invitations[0].RsvpStatus = model.RsvpAccepted
	cross1.Exfee.Invitations[1].RsvpStatus = model.RsvpAccepted
	cross1.Exfee.Invitations[2].RsvpStatus = model.RsvpNoresponse
	cross1.Exfee.Invitations[3].RsvpStatus = model.RsvpDeclined

	arg := map[string]interface{}{
		"To":     remail1,
		"Cross":  cross1,
		"Config": &config,
	}

	text, err := GenerateContent(localTemplate, "cross_summary_v3", remail1.Provider, remail1.Language, arg)
	assert.Equal(t, err, nil)
	t.Logf("text:-----start------\n%s\n-------end-------", text)
	expect := "Content-Type: multipart/mixed; boundary=\"56040bc4f71301a3dc363b960b1796dafbb8b190894fd231dda878b5be75\"\nReferences: <+123@exfe.com>\nTo: =?utf-8?B?ZW1haWwxIG5hbWU=?= <to_email_address>\nFrom: =?utf-8?B?YnVzaW5lc3MgdGVzdGVy?= <+123@test.com>\nSubject: =?utf-8?B?VGVzdCBDcm9zcw==?=\n\n--56040bc4f71301a3dc363b960b1796dafbb8b190894fd231dda878b5be75\nContent-Type: multipart/alternative; boundary=\"bf4da18faf42d84da6be65288a47b5d8ca22e5f1c8d3af179533aa734d60\"\n\n--bf4da18faf42d84da6be65288a47b5d8ca22e5f1c8d3af179533aa734d60\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: base64\n\nVXBkYXRlcyBvZiDCt1jCtyDigJxUZXN0IENyb3Nz4oCdIGJ5IGZhY2Vib29rNCBuYW1lLCBlbWFpbDEg\r\nbmFtZSwgZW1haWwyIG5hbWUsIGV0Yy4KCipOZXcgVGl0bGUqCj09PT09PT0KaHR0cDovL3NpdGUvdXJs\r\nLyMhdG9rZW49cmVjaXBpZW50X2VtYWlsMV90b2tlbgoKKjQ6NDVQTSBvbiBUdWUsIE9jdCAyMyAyMDEy\r\nKgo9PT09PT09CgoqVGVzdCBQbGFjZTEqCj09PT09PT0KICAqdGVzdCBwbGFjZSAxKgoKCsK3IDUgQWNj\r\nZXB0ZWQ6IGVtYWlsMiBuYW1lLCBmYWNlYm9vazUgbmFtZSBhbmQgMSBvdGhlcnMuCsK3IFVuYXZhaWxh\r\nYmxlOiB0d2l0dGVyMyBuYW1lLgrCtyBOZXdseSBpbnZpdGVkOiBmYWNlYm9vazUgbmFtZS4KwrcgUmVt\r\nb3ZlZDogZmFjZWJvb2s2IG5hbWUuCgojIFJlcGx5IHRoaXMgZW1haWwgZGlyZWN0bHkgYXMgY29udmVy\r\nc2F0aW9uLiAj\n--bf4da18faf42d84da6be65288a47b5d8ca22e5f1c8d3af179533aa734d60\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: base64\n\nPCFET0NUWVBFIGh0bWw+CjxodG1sPgogICAgPGhlYWQ+CiAgICAgICAgPHRpdGxlPjwvdGl0bGU+CiAg\r\nICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNo\r\nYXJzZXQ9VVRGLTgiPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgLmV4ZmVfbWFpbF9pZGVudGl0\r\neV9uYW1lIHsKICAgICAgICAgICAgICAgIGNvbG9yOiAjM2E2ZWE1OwogICAgICAgICAgICB9CiAgICAg\r\nICAgICAgIC5leGZlX21haWxfbXNnX2lkZW50aXR5X25hbWUgewogICAgICAgICAgICAgICAgY29sb3I6\r\nICM2NjY2NjY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmV4ZmVfbWFpbF9tc2dfYXQgewogICAg\r\nICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgY29sb3I6ICM5OTk5OTk7\r\nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmV4ZmVfbWFpbF9tc2dfdGltZSB7CiAgICAgICAgICAg\r\nICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBjb2xvcjogIzY2NjY2NjsKICAgICAg\r\nICAgICAgfQogICAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keT4KICAgICAgICA8dGFi\r\nbGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJmb250LWZh\r\nbWlseTogVmVyZGFuYTsgZm9udC1zaXplOiAxM3B4OyBsaW5lLWhlaWdodDogMjBweDsgY29sb3I6ICMx\r\nOTE5MTk7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHdpZHRoOiA2NDBweDsgcGFkZGluZzogMjBweDsgYmFj\r\na2dyb3VuZC1jb2xvcjogI2ZiZmJmYjsiPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8\r\ndGQgY29sc3Bhbj0iNSIgc3R5bGU9ImNvbG9yOiAjMzMzMzMzOyI+CiAgICAgICAgICAgICAgICAgICAg\r\nPGEgaHJlZj0iaHR0cDovL3NpdGUvdXJsLyMhdG9rZW49cmVjaXBpZW50X2VtYWlsMV90b2tlbiIgc3R5\r\nbGU9ImNvbG9yOiAjMzMzMzMzOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7Ij5VcGRhdGVzIG9mIDxzcGFu\r\nIHN0eWxlPSJjb2xvcjogIzNhNmVhNTsiPsK3WMK3PC9zcGFuPiDigJw8c3BhbiBzdHlsZT0iY29sb3I6\r\nICMxOTE5MTk7Ij5UZXN0IENyb3NzPC9zcGFuPuKAnSBieSBmYWNlYm9vazQgbmFtZSwgZW1haWwxIG5h\r\nbWUsIGVtYWlsMiBuYW1lLCBldGMuPC9hPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAg\r\nPC90cj4KICAgICAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPSI1IiBoZWlnaHQ9IjEwIj48L3RkPjwvdHI+\r\nCiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSI1IiBzdHlsZT0iZm9u\r\ndC1zaXplOiAyMHB4OyBsaW5lLWhlaWdodDogMjZweDsiPgogICAgICAgICAgICAgICAgICAgIDxhIGhy\r\nZWY9Imh0dHA6Ly9zaXRlL3VybC8jIXRva2VuPXJlY2lwaWVudF9lbWFpbDFfdG9rZW4iIHN0eWxlPSJj\r\nb2xvcjojM2E2ZWE1OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGZvbnQtd2VpZ2h0OiBsaWdodGVyOyI+\r\nCiAgICAgICAgICAgICAgICAgICAgICAgIE5ldyBUaXRsZQogICAgICAgICAgICAgICAgICAgIDwvYT4K\r\nICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj48dGQg\r\nY29sc3Bhbj0iNSIgaGVpZ2h0PSIxMCI+PC90ZD48L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAg\r\nICAgICAgICA8dGQgdmFsaWduPSJ0b3AiIHdpZHRoPSIxODAiPgogICAgICAgICAgICAgICAgICAgIAog\r\nICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDIwcHg7IGxpbmUtaGVpZ2h0OiAy\r\nNnB4OyBtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3Np\r\ndGUvdXJsLyMhdG9rZW49cmVjaXBpZW50X2VtYWlsMV90b2tlbiIgc3R5bGU9ImNvbG9yOiAjM2E2ZWE1\r\nOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7Ij40OjQ1UE0gb24gVHVlLCBPY3QgMjMgMjAxMigrMDgwMCk8\r\nL2E+CiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAg\r\nICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZCB3aWR0aD0iMTAiPjwvdGQ+CiAgICAgICAgICAg\r\nICAgICA8dGQgdmFsaWduPSJ0b3AiIHdpZHRoPSIxOTAiIHN0eWxlPSJ3b3JkLWJyZWFrOiBicmVhay1h\r\nbGw7Ij4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9u\r\ndC1zaXplOiAyMHB4OyBsaW5lLWhlaWdodDogMjZweDsgbWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAg\r\nICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9zaXRlL3VybC8jIXRva2VuPXJlY2lwaWVudF9lbWFpbDFf\r\ndG9rZW4iIHN0eWxlPSJjb2xvcjogIzNhNmVhNTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyI+VGVzdCBQ\r\nbGFjZTE8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIDxwIHN0\r\neWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3Np\r\ndGUvdXJsLyMhdG9rZW49cmVjaXBpZW50X2VtYWlsMV90b2tlbiIgc3R5bGU9ImNvbG9yOiAjM2E2ZWE1\r\nOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7Ij50ZXN0IHBsYWNlIDE8L2E+CiAgICAgICAgICAgICAgICAg\r\nICAgPC9wPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAg\r\nICAgICAgIDx0ZCB3aWR0aD0iMTAiPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgdmFsaWduPSJ0b3Ai\r\nIHdpZHRoPSIyMTAiPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPC90ZD4KICAg\r\nICAgICAgICAgPC90cj4KICAgICAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPSI1IiBoZWlnaHQ9IjEwIj48\r\nL3RkPjwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSI1Ij4K\r\nICAgICAgICAgICAgICAgICAgICA8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNw\r\nYWNpbmc9IjAiIHN0eWxlPSJmb250LWZhbWlseTogVmVyZGFuYTsgZm9udC1zaXplOiAxM3B4OyBsaW5l\r\nLWhlaWdodDogMjBweDsgY29sb3I6ICMxOTE5MTk7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHdpZHRoOiAx\r\nMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJmYmZiOyI+CiAgICAgICAgICAgICAgICAgICAgCQogICAg\r\nICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lk\r\ndGg9IjE1Ij48aW1nIHNyYz0iaHR0cDovL3NpdGUvaW1nL2VtYWlsL3JzdnBfYWNjZXB0ZWRfMTJfYmx1\r\nZS5wbmciIC8+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAg\r\nICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vc2l0ZS91cmwvIyF0b2tlbj1yZWNpcGll\r\nbnRfZW1haWwxX3Rva2VuIiBzdHlsZT0iY29sb3I6ICMxOTE5MTk7IHRleHQtZGVjb3JhdGlvbjogbm9u\r\nZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiAw\r\nOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZXhm\r\nZV9tYWlsX2lkZW50aXR5X25hbWUiPjU8L3NwYW4+IEFjY2VwdGVkOiA8c3BhbiBjbGFzcz0nZXhmZV9t\r\nYWlsX2lkZW50aXR5X25hbWUnPmVtYWlsMiBuYW1lPC9zcGFuPiwgPHNwYW4gY2xhc3M9J2V4ZmVfbWFp\r\nbF9pZGVudGl0eV9uYW1lJz5mYWNlYm9vazUgbmFtZTwvc3Bhbj4sIGFuZCAxIG90aGVycy4KICAgICAg\r\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAg\r\nICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAg\r\nICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgPHRkIHdpZHRoPSIxNSI+PGltZyBzcmM9Imh0dHA6Ly9zaXRlL2ltZy9lbWFpbC9yc3ZwX2RlY2xp\r\nbmVkXzEyLnBuZyIgLz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAg\r\nICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9zaXRlL3VybC8jIXRva2VuPXJl\r\nY2lwaWVudF9lbWFpbDFfdG9rZW4iIHN0eWxlPSJjb2xvcjogIzE5MTkxOTsgdGV4dC1kZWNvcmF0aW9u\r\nOiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJn\r\naW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVuYXZhaWxhYmxl\r\nOiB0d2l0dGVyMyBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAg\r\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAg\r\nICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAg\r\nICAKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAg\r\nICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCB3aWR0aD0iMTUiPjxpbWcgc3JjPSJodHRwOi8vc2l0\r\nZS9pbWcvZW1haWwvcGx1c18xMl9ibHVlLnBuZyIgLz48L3RkPgogICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9z\r\naXRlL3VybC8jIXRva2VuPXJlY2lwaWVudF9lbWFpbDFfdG9rZW4iIHN0eWxlPSJjb2xvcjogIzE5MTkx\r\nOTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgIDxwIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgIE5ld2x5IGludml0ZWQ6IDxzcGFuIGNsYXNzPSJleGZlX21haWxfaWRlbnRpdHlfbmFtZSI+\r\nZmFjZWJvb2s1IG5hbWU8L3NwYW4+LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8\r\nL3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAg\r\nICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAg\r\nICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8\r\ndHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgd2lkdGg9IjE1Ij48aW1nIHNyYz0iaHR0\r\ncDovL3NpdGUvaW1nL2VtYWlsL21pbnVzXzEyLnBuZyIgLz48L3RkPgogICAgICAgICAgICAgICAgICAg\r\nICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6\r\nLy9zaXRlL3VybC8jIXRva2VuPXJlY2lwaWVudF9lbWFpbDFfdG9rZW4iIHN0eWxlPSJjb2xvcjogIzE5\r\nMTkxOTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgICAgIFJlbW92ZWQ6IGZhY2Vib29rNiBuYW1lLgogICAgICAgICAgICAgICAgICAgICAgICAg\r\nICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAg\r\nICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAg\r\nICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAg\r\nICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0i\r\nNSIgaGVpZ2h0PSIxMCI+PC90ZD48L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8\r\ndGQgY29sc3Bhbj0iNSI+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgCiAg\r\nICAgICAgICAgICAgICAgICAgPGltZyBzdHlsZT0icGFkZGluZy1yaWdodDogNXB4OyIgd2lkdGg9IjQw\r\nIiBoZWlnaHQ9IjQwIiBhbHQ9ImVtYWlsMiBuYW1lIiB0aXRsZT0iZW1haWwyIG5hbWUiIHNyYz0iaHR0\r\ncDovL3NpdGUvYXBpL3YyL2F2YXRhci9yZW5kZXI/cmVzb2x1dGlvbj0yeCZ1cmw9YUhSMGNEb3ZMM0Jo\r\nZEdndmRHOHZaVzFoYVd3eUxtRjJZWFJoY2clM0QlM0Qmd2lkdGg9NDAmaGVpZ2h0PTQwIj4KICAgICAg\r\nICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8aW1nIHN0eWxlPSJwYWRkaW5nLXJpZ2h0\r\nOiA1cHg7IiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGFsdD0idHdpdHRlcjMgbmFtZSIgdGl0bGU9InR3\r\naXR0ZXIzIG5hbWUiIHNyYz0iaHR0cDovL3NpdGUvYXBpL3YyL2F2YXRhci9yZW5kZXI/cmVzb2x1dGlv\r\nbj0yeCZ1cmw9YUhSMGNEb3ZMM0JoZEdndmRHOHZkSGRwZEhSbGNqTXVZWFpoZEdGeSZ3aWR0aD00MCZo\r\nZWlnaHQ9NDAmYWxwaGE9MC4zMyI+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAg\r\nICAgPGltZyBzdHlsZT0icGFkZGluZy1yaWdodDogNXB4OyIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBh\r\nbHQ9ImZhY2Vib29rNCBuYW1lIiB0aXRsZT0iZmFjZWJvb2s0IG5hbWUiIHNyYz0iaHR0cDovL3NpdGUv\r\nYXBpL3YyL2F2YXRhci9yZW5kZXI/cmVzb2x1dGlvbj0yeCZ1cmw9YUhSMGNEb3ZMM0JoZEdndmRHOHZa\r\nbUZqWldKdmIyczBMbUYyWVhSaGNnJTNEJTNEJndpZHRoPTQwJmhlaWdodD00MCI+CiAgICAgICAgICAg\r\nICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGltZyBzdHlsZT0icGFkZGluZy1yaWdodDogNXB4\r\nOyIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBhbHQ9InR3aXR0ZXIxIG5hbWUiIHRpdGxlPSJ0d2l0dGVy\r\nMSBuYW1lIiBzcmM9Imh0dHA6Ly9zaXRlL2FwaS92Mi9hdmF0YXIvcmVuZGVyP3Jlc29sdXRpb249Mngm\r\ndXJsPWFIUjBjRG92TDNCaGRHZ3ZkRzh2ZEhkcGRIUmxjakV1WVhaaGRHRnkmd2lkdGg9NDAmaGVpZ2h0\r\nPTQwJmFscGhhPTAuMzMmaXNob3N0PXRydWUmbWF0ZXM9MiI+CiAgICAgICAgICAgICAgICAgICAgCiAg\r\nICAgICAgICAgICAgICAgICAgPGltZyBzdHlsZT0icGFkZGluZy1yaWdodDogNXB4OyIgd2lkdGg9IjQw\r\nIiBoZWlnaHQ9IjQwIiBhbHQ9ImZhY2Vib29rNSBuYW1lIiB0aXRsZT0iZmFjZWJvb2s1IG5hbWUiIHNy\r\nYz0iaHR0cDovL3NpdGUvYXBpL3YyL2F2YXRhci9yZW5kZXI/cmVzb2x1dGlvbj0yeCZ1cmw9YUhSMGNE\r\nb3ZMM0JoZEdndmRHOHZabUZqWldKdmIyczFMbUYyWVhSaGNnJTNEJTNEJndpZHRoPTQwJmhlaWdodD00\r\nMCZtYXRlcz0yIj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAg\r\nICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0iNSIgaGVpZ2h0PSIxMCI+PC90\r\nZD48L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNSI+CiAg\r\nICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3NpdGUvdXJsLyMhdG9rZW49cmVjaXBpZW50\r\nX2VtYWlsMV90b2tlbiIgc3R5bGU9ImNvbG9yOiAjMzMzMzMzOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7\r\nIj50ZXN0IGNyb3NzIGRlc2NyaXB0aW9uPC9hPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAg\r\nICAgPC90cj4KICAgICAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPSI1IiBoZWlnaHQ9IjIwIj48L3RkPjwv\r\ndHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSI1IiBzdHlsZT0i\r\nZm9udC1zaXplOiAxMXB4OyBsaW5lLWhlaWdodDogMTVweDsgY29sb3I6ICM3RjdGN0Y7Ij4KICAgICAg\r\nICAgICAgICAgICAgICBSZXBseSB0aGlzIGVtYWlsIGRpcmVjdGx5IGFzIGNvbnZlcnNhdGlvbiwgb3Ig\r\ndHJ5IDxhIHN0eWxlPSJjb2xvcjogIzNhNmVhNTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyIgaHJlZj0i\r\naHR0cDovL2FwcC91cmwiPkVYRkU8L2E+IGFwcC4KICAgICAgICAgICAgICAgICAgICA8YnIgLz4KICAg\r\nICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6ICNCMkIyQjIiPlRoaXMgdXBkYXRlIGlz\r\nIHNlbnQgZnJvbSA8YSBzdHlsZT0iY29sb3I6ICMzYTZlYTU7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsi\r\nIGhyZWY9Imh0dHA6Ly9zaXRlL3VybCI+RVhGRTwvYT4gYXV0b21hdGljYWxseS4gPGEgc3R5bGU9ImNv\r\nbG9yOiAjRTZFNkU2OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IiBocmVmPSJodHRwOi8vc2l0ZS91cmwv\r\nbXV0ZS9jcm9zcz90b2tlbj1yZWNpcGllbnRfZW1haWwxX3Rva2VuIj5VbnN1YnNjcmliZT88L2E+CiAg\r\nICAgICAgICAgICAgICAgICAgPCEtLQogICAgICAgICAgICAgICAgICAgIFlvdSBjYW4gY2hhbmdlCiAg\r\nICAgICAgICAgICAgICAgICAgPGEgc3R5bGU9ImNvbG9yOiAjQjJCMkIyOyB0ZXh0LWRlY29yYXRpb246\r\nIHVuZGVsaW5lOyIgaHJlZj0iIj5ub3RpZmljYXRpb24gcHJlZmVyZW5jZTwvYT4uCiAgICAgICAgICAg\r\nICAgICAgICAgLS0+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPC90\r\nZD4KICAgICAgICAgICAgPC90cj4KICAgICAgICA8L3RhYmxlPgogICAgPC9ib2R5Pgo8L2h0bWw+Cg==\n--bf4da18faf42d84da6be65288a47b5d8ca22e5f1c8d3af179533aa734d60--\n\n--56040bc4f71301a3dc363b960b1796dafbb8b190894fd231dda878b5be75\nContent-Disposition: attachment; filename=\"=?UTF-8?B?TmV3IFRpdGxlLmljcw==?=\"\nContent-Type: text/calendar; charset=utf-8; name=\"=?UTF-8?B?TmV3IFRpdGxlLmljcw==?=\"\nContent-Transfer-Encoding: base64\n\nQkVHSU46VkNBTEVOREFSDQpWRVJTSU9OOjIuMA0KUFJPRElEOi0vL2V4ZmUvL2V4ZmUuY29tIC8vDQpY\r\nLVdSLUNBTE5BTUU6TmV3IFRpdGxlDQpYLVdSLUNBTERFU0M6ZXhmZSBjYWwNClgtV1ItVElNRVpPTkU6\r\nKzA4MDANCkJFR0lOOlZFVkVOVA0KVUlEOiExMjNAZXhmZQ0KRFRTVEFNUDoyMDEyMTAyM1QwODQ1MDBa\r\nDQpERVNDUklQVElPTjp0ZXN0IGNyb3NzIGRlc2NyaXB0aW9uDQpEVFNUQVJUOjIwMTIxMDIzVDA4NDUw\r\nMFoNCkxPQ0FUSU9OOlRlc3QgUGxhY2UxXG50ZXN0IHBsYWNlIDENClNVTU1BUlk6TmV3IFRpdGxlDQpV\r\nUkw6aHR0cDovL3NpdGUvdXJsLyMhdG9rZW49cmVjaXBpZW50X2VtYWlsMV90b2tlbg0KRU5EOlZFVkVO\r\nVA0KRU5EOlZDQUxFTkRBUg0K\n--56040bc4f71301a3dc363b960b1796dafbb8b190894fd231dda878b5be75--\n"
	assert.Equal(t, text, expect)
}
